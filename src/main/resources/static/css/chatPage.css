:root{
  --chat-bg:#f7f8fb;
  --bubble-me:#4f46e5;
  --bubble-me-text:#fff;
  --bubble-other:#ffffff;
  --bubble-other-text:#111827;
  --border:#e5e7eb;
}

/* 기본 레이아웃 */
body{ background:#fff; }

.chat-container{
  max-width: 840px;
  margin: 24px auto;
  padding: 0 16px 24px;
}

/* 상단 바 */
.chat-header{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 14px; border:1px solid var(--border);
  border-radius:12px; background:#fff; box-shadow:0 2px 10px rgba(17,24,39,.04);
  margin-bottom:12px;
}
.room-meta{ display:flex; align-items:center; gap:10px; min-width:0; }
.room-title{
  font-weight:800; font-size:16px; color:#111827; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.room-sub{
  color:#6b7280; font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.online-dot{
  width:10px; height:10px; border-radius:50%;
  background:#16a34a; box-shadow:0 0 0 3px rgba(22,163,74,.15);
}
.status-badge{
  font-size:12px; font-weight:700; padding:6px 10px; border-radius:999px;
  border:1px solid var(--border); background:#fff; color:#374151;
}
.status-badge.off{ background:#fff7f7; color:#b91c1c; border-color:#fecaca; }
.status-badge.on{  background:#f0fdf4; color:#166534; border-color:#bbf7d0; }

/* 채팅 영역 */
.chat-wrap{
  border:1px solid var(--border);
  border-radius:14px;
  background:var(--chat-bg);
  height: 60vh; min-height: 360px;
  display:flex; flex-direction:column; overflow:hidden;
  box-shadow:0 2px 10px rgba(17,24,39,.04);
}
.chat-log{
  flex:1 1 auto; overflow-y:auto; padding:16px 14px; scroll-behavior:smooth;
}
.day-sep{ text-align:center; margin:8px 0; font-size:12px; color:#6b7280; }

/* 한 줄(메시지) */
.msg{
  width:100%;
  display:flex; gap:8px; margin:8px 0; align-items:flex-end;
}
.msg.me{ justify-content:flex-end; }

/* 아바타 */
.msg .avatar{
  width:28px; height:28px; border-radius:50%; background:#e5e7eb; flex:0 0 auto; overflow:hidden;
  border:1px solid var(--border);
}
.msg.me .avatar{ display:none; }

/* 말풍선 래퍼(열 방향 + 정렬 주도) */
.msg .msg-box{
  flex: 0 1 86%;
  max-width: 86%;
  display:flex; flex-direction:column;
  align-items:flex-start;        /* 기본: 왼쪽 정렬 */
}
.msg.me .msg-box{
  align-items:flex-end;          /* 내 메시지는 오른쪽으로 붙임 */
  margin-right:10px;
}

/* 말풍선 */
.bubble{
  display:inline-block;
  max-width:100%;
  padding:10px 12px; border-radius:14px;
  font-size:14px; line-height:1.5;
  box-shadow:0 1px 4px rgba(17,24,39,.08);

  white-space:normal;            /* 가로로 자연스럽게 확장 */
  word-break:keep-all;           /* 한글 단어 단위 줄바꿈 */
  overflow-wrap:anywhere;        /* 긴 토큰 강제 줄바꿈 허용 */
}

/* 정렬 보조(남는 여백 처리) */
.msg.other .bubble{ margin-right:auto; }
.msg.me    .bubble{ margin-left:auto; }

.msg.me .bubble{
  background:var(--bubble-me); color:var(--bubble-me-text);
  border-bottom-right-radius:6px;
}
.msg.other .bubble{
  background:var(--bubble-other); color:var(--bubble-other-text);
  border-bottom-left-radius:6px;
}

/* 메타 정보(닉네임/시간) */
.meta-line{
  display:flex; align-items:center; gap:8px;
  font-size:12px; color:#9ca3af; margin-top:4px;
}
.msg.other .meta-line{ justify-content:flex-start; }
.msg.me    .meta-line{ justify-content:flex-end; }
.nick{ font-weight:700; color:#374151; }
.time{ white-space:nowrap; }

/* 입력 영역 */
.chat-input{
  display:flex; gap:8px; padding:10px; background:#fff; border-top:1px solid var(--border);
}
.chat-input input{
  flex:1; height:42px; border:1px solid var(--border); border-radius:10px; padding:0 12px; font-size:14px; outline:none;
}
.chat-input input:focus{ border-color:#c7d2fe; box-shadow:0 0 0 3px #eef2ff; }
.chat-input button{
  padding:0 14px; border:none; border-radius:10px; background:#111827; color:#fff; font-weight:700; cursor:pointer;
}
.chat-input button:disabled{ opacity:.55; cursor:not-allowed; }

/* 상태 메시지 */
.sys{ text-align:center; font-size:12px; color:#6b7280; margin:6px 0; }
.error{ color:#b91c1c; background:#fff1f2; border:1px solid #fecdd3; padding:8px 10px; border-radius:8px; margin-top:10px; }
