/* 프로필 카드 */
.profile-card {
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 20px;
    background: #fff;
    border: 1px solid #e6e6e6;
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.profile-left {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: #f5f5f7;
    border-radius: 8px;
    padding: 28px 16px;
}
.avatar {
    width: 96px;
    height: 96px;
    border-radius: 50%;
    background: #fff;
    border: 1px solid #e6e6e6;
    display: grid;
    place-items: center;
    margin-bottom: 14px;
}
.avatar .store-icon {
    width: 44px;
    height: 44px;
    border-radius: 8px;
    border: 2px solid #cfcfcf;
    position: relative;
}
.avatar .store-icon:before, .avatar .store-icon:after {
    content: "";
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    background: #cfcfcf;
}
.avatar .store-icon:before { /* 차양 */
    top: -10px; width: 60px; height: 10px; border-radius: 6px;
}
.avatar .store-icon:after { /* 문 */
    bottom: 6px; width: 12px; height: 14px; background: #dcdcdc; border-radius: 2px;
}
.shop-nickname {
    font-size: 16px;
    font-weight: 700;
    color: #333;
    margin-top: 4px;
}
.rating {
    display: inline-flex;
    gap: 2px;
    color: #f5a623;
    margin: 6px 0 2px;
    font-size: 14px;
}
.mini-stats {
    margin: 6px 0 14px;
    color: #666;
    font-size: 12px;
}
.follow-btn {
    width: 100%;
    max-width: 220px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 14px;
    background: #4f46e5;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}
.follow-btn:hover { background: #4338ca; }
.profile-right {
    display: grid;
    grid-template-rows: auto 1fr;
    gap: 12px;
}
.top-row {
    display: flex;
    align-items: center;
    gap: 10px;
}
.shop-title {
    font-size: 20px;
    font-weight: 800;
    color: #222;
}
.badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: #fff7e6;
    color: #b26b00;
    border: 1px solid #ffe1a8;
    border-radius: 20px;
    padding: 6px 10px;
    font-size: 12px;
    font-weight: 600;
}
.meta {
    display: flex;
    flex-wrap: wrap;
    gap: 14px 24px;
    padding-top: 8px;
    color: #555;
    font-size: 14px;
}
.meta-item {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    white-space: nowrap;
}
.meta-item .dot {
    width: 6px;
    height: 6px;
    background: #4f46e5;
    border-radius: 50%;
    display: inline-block;
}
.shop-desc {
    margin-top: 10px;
    color: #444;
    font-size: 14px;
}
/* 반응형 */
@media (max-width: 840px) {
    .profile-card { grid-template-columns: 1fr; }
    .profile-left { order: 1; }
    .profile-right { order: 2; }
}

/* ========== Shop - Products section ========== */
#productsAll{ margin-top:18px; padding-bottom:40px; }

/* 상단 정렬/타이틀 바 */
.products-header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:8px 4px; background:#fff;
}
.products-title{
  font-size:16px; font-weight:800;
}

/* 탭: 4등분 세그먼트 컨트롤 */
.shop-tabs{
  display:grid; grid-template-columns: repeat(4, 1fr);
  background:#f7f7f8; border:1px solid #e5e7eb; border-radius:8px;
  overflow:hidden; width:100%;
}
.shop-tabs .tab-item{
  position:relative;
  appearance:none; background:#f9fafb; border:0; border-right:1px solid #e5e7eb;
  padding:12px 10px; text-align:center; color:#6b7280; font-weight:700; font-size:14px;
  cursor:pointer; transition:background .15s ease, color .15s ease;
}
.shop-tabs .tab-item:last-child{ border-right:0; }
.shop-tabs .tab-item .count{ margin-left:6px; color:#374151; font-weight:700; }
.shop-tabs .tab-item:hover{ background:#ffffff; color:#374151; }
.shop-tabs .tab-item.active{
  background:#ffffff; color:#111827;
  box-shadow: inset 0 -2px 0 #111827; /* 하단 강조선 */
}

/* 정렬 버튼: 톤 다운된 배지 스타일 */
.products-sorts{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.products-sorts button{
  appearance:none; border:1px solid #e6e6e6; background:#ffffff; color:#444;
  padding:6px 12px; border-radius:999px; font-weight:700; font-size:13px; cursor:pointer;
  transition: all .15s ease;
}
.products-sorts button:hover{ border-color:#d5d5d5; background:#fbfbfb; }
.products-sorts button.active{
  color:#1f3a8a; background:#eef2ff; border-color:#c7d2fe;
}

/* 카드 결합 라인 유지 */
.products-grid{
  display:grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap:14px; padding-top:14px;
}

/* 팔로워/팔로잉 그리드 */
.followers-grid, .following-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 24px 20px;
  padding: 12px 4px;
}
@media (max-width: 1200px){ .followers-grid, .following-grid{ grid-template-columns: repeat(3, 1fr);} }
@media (max-width: 840px){  .followers-grid, .following-grid{ grid-template-columns: repeat(2, 1fr);} }
@media (max-width: 560px){  .followers-grid, .following-grid{ grid-template-columns: repeat(1, 1fr);} }

.follower-card{
  display:flex; align-items:center; gap:14px;
  border:1px solid #e5e7eb; border-radius:10px; background:#fff;
  padding:12px; min-height:92px;
}
.follower-avatar{
  width:64px; height:64px; border-radius:50%; overflow:hidden; border:1px solid #e6e6e6; background:#f3f4f6;
  flex: 0 0 auto;
}
.follower-avatar img{ width:100%; height:100%; object-fit:cover; }
.follower-body{ display:flex; flex-direction:column; gap:4px; min-width:0; }
.follower-name{ font-weight:800; color:#222; font-size:14px; text-overflow:ellipsis; white-space:nowrap; overflow:hidden; }
.follower-stars{ color:#f59e0b; font-size:12px; letter-spacing:2px; }
.follower-meta{ color:#6b7280; font-size:12px; }
@media (max-width: 1320px){ .products-grid{ grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 1024px){ .products-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 720px){  .products-grid{ grid-template-columns: repeat(2, 1fr); } }

/* 카드 */
.product-card{
  display:block; text-decoration:none; color:inherit;
  border:1px solid #e9ecef; border-radius:10px; overflow:hidden; background:#fff;
  transition:.18s transform, .18s box-shadow;
}
.product-card:hover{ transform: translateY(-3px); box-shadow:0 8px 20px rgba(0,0,0,.06); }

/* 썸네일(1:1 비율) */
.product-card .thumb-wrap{
  position:relative; width:100%;
  aspect-ratio: 1 / 1; /* 최신 브라우저 */
  background:#f4f5f7;
}
.product-card .thumb-wrap img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
  background:#f0f0f0;
}

/* 정보 */
.product-card .product-info{ padding:10px; }
.product-card .product-title{
  font-size:14px; font-weight:700; line-height:1.35; color:#222;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
  min-height: 38px;
}
.product-card .product-price{
  margin-top:6px; font-weight:800; color:#111;
}

/* 빈 상태 */
.store-empty{
  grid-column: 1 / -1;
  color:#6b7280; background:#fff; border:1px dashed #e5e7eb; border-radius:10px;
  padding:28px; text-align:center;
}

/* ========== Owner Actions (상점 수정) ========== */
.owner-actions{
  display:flex; align-items:center; gap:8px; margin-top:8px;
}
.owner-actions .edit-shop-btn,
.owner-actions .save-btn,
.owner-actions .cancel-btn{
  appearance:none; border:1px solid #e5e7eb; background:#fff; color:#333;
  padding:8px 12px; border-radius:6px; font-weight:700; font-size:13px; cursor:pointer;
}
.owner-actions .edit-shop-btn{ background:#111827; color:#fff; border-color:#111827; }
.owner-actions .save-btn{ background:#2563eb; color:#fff; border-color:#2563eb; }
.owner-actions .cancel-btn{ background:#f3f4f6; color:#111827; }

.intro-edit{
  width:100%; min-height:88px; padding:8px;
  border:1px solid #e5e7eb; border-radius:6px; resize:vertical;
  font-size:14px; color:#222; box-sizing:border-box; margin-top:8px;
}

.avatar img.shop-avatar{
  width:96px; height:96px; object-fit:cover; border-radius:50%; border:1px solid #e6e6e6;
}
.avatar input.avatar-input{
  margin-top:8px; width:100%;
}

/* ===== 상점후기 리스트 (아바타 작게 보이도록 강제) ===== */
.reviews-list { list-style:none; padding:0; margin:0; }
.review-item{
  display:flex; align-items:flex-start; gap:10px;
  padding:12px 4px; border-bottom:1px solid #f3f4f6;
}
.review-left{
  flex:0 0 auto;
  width:36px; height:36px; border-radius:50%; overflow:hidden;
  border:1px solid #e5e7eb; background:#f3f4f6;
}
.review-left img{
  display:block; width:100%; height:100%; object-fit:cover;
}
.review-body{ flex:1 1 auto; min-width:0; }
.review-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
.review-user{ font-weight:800; color:#111827; font-size:14px; }
.review-stars{ color:#f59e0b; font-size:12px; letter-spacing:2px; }
.review-time{ color:#9ca3af; font-size:12px; white-space:nowrap; }
.review-product{
  display:inline-block; margin:6px 0 8px; color:#6b7280; font-size:13px; background:#f3f4f6;
  padding:4px 8px; border-radius:9999px;
}
.review-text{ color:#374151; font-size:14px; line-height:1.5; }

/* 후기 정렬 보강: 좌측 정렬 유지 */
.review-product,
.review-text,
.reviews-list { text-align: left; }

/* === Unified Product Card (shop) === */
.products-grid{
  display:grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap:14px; padding-top:14px;
}
@media (max-width: 1320px){ .products-grid{ grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 1024px){ .products-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 720px){  .products-grid{ grid-template-columns: repeat(2, 1fr); } }

.product-card{
  position: relative; /* 리본 기준 */
  display:block; text-decoration:none; color:inherit;
  border:1px solid #eee; border-radius:14px; overflow:hidden; background:#fff;
  box-shadow: 0 2px 10px rgba(17, 24, 39, .04);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.product-card:hover{ transform: translateY(-3px); box-shadow:0 8px 24px rgba(0,0,0,.10); border-color:#e7e7e7; }

/* 썸네일 */
.product-card .thumb-wrap{
  position:relative; width:100%;
  aspect-ratio: 4 / 3;
  background:#f6f7fb;
  z-index: 1;
}
.product-card .thumb-wrap img{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block;
}

/* 가격 배지 (오버레이) */
.product-card .price-badge{
  position:absolute; right:10px; bottom:10px;
  padding:6px 10px; border-radius:999px;
  background: rgba(17,24,39,.75); color:#fff; font-weight:700; font-size:13px;
  backdrop-filter: blur(2px);
  z-index: 2;
}

/* 상태 리본 */
.product-card .ribbon{
  position:absolute; z-index:3;
  top:12px; left:-48px; transform:rotate(-45deg);
  padding:6px 64px; font-weight:800; font-size:12px; letter-spacing:.5px;
  color:#111; background:#ffe29a; box-shadow:0 2px 8px rgba(0,0,0,.12);
}
.product-card .ribbon.sold{ background:#ffbdbd; color:#7a0f0f; }

/* 본문/제목/칩 */
.product-card .product-info{ padding:12px 12px 14px; display:flex; flex-direction:column; gap:6px; }
.product-card .product-title{
  font-size:15px; font-weight:700; line-height:1.3; margin:0;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; min-height:38px;
}
.product-card .meta-row{ display:flex; flex-wrap:wrap; gap:6px; margin-top:4px; }
.product-card .chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; border-radius:999px; font-size:11px; font-weight:600;
  border:1px solid #eef0f4; background:#f7f8fb; color:#475569;
}
.product-card .chip.trade{ background:#f7fdf7; border-color:#e7f9e7; color:#166534; }
.product-card .chip.neg-y{ background:#fff6e6; border-color:#ffe9c7; color:#92400e; }
.product-card .chip.cond-new{ background:#e6f7ff; border-color:#d4efff; color:#075985; }
